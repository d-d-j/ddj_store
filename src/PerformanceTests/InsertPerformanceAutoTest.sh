#!/bin/bash

for poolSize in 1
do
for bufferSize in 16 32 64 96 128 192 256 384 512 768 1024 1536 2048 3072 4096 6144 8192
do
   > config.ini
   echo "MB_SIZE_IN_BYTES = 1048576
MAIN_STORE_SIZE = 536870912
GPU_MEMORY_ALLOC_ATTEMPTS = 6
STREAMS_NUM_QUERY = 4
STREAMS_NUM_UPLOAD = $poolSize
STORE_BUFFER_CAPACITY = $bufferSize
INSERT_THREAD_POOL_SIZE = $poolSize
SELECT_THREAD_POOL_SIZE = 4
SIMUL_QUERY_COUNT = 4
MASTER_IP_ADDRESS = 127.0.0.1
MASTER_LOGIN_PORT = 8080
ENABLE_COMPRESSION = 1
MAX_JOB_MEMORY_SIZE = 104857600" > config.ini
	./DDJ_Store --insertPerformance
done
done
